<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 ë¯¸êµ­ ìœ í•™ ì „ëµ</title>
    <style>
        :root {
            --bg-color: #f7f6f3;
            --card-bg: #ffffff;
            --text-main: #333;
            --text-sub: #666;
            --accent: #2e86de;
            --border: #e0e0e0;
            --tag-bg: #e8f5e9;
            --tag-text: #2e7d32;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: var(--bg-color);
            color: var(--text-main);
            display: flex;
            justify-content: center;
        }

        .app-container {
            width: 100%;
            max-width: 600px;
            min-height: 90vh;
        }

        /* í—¤ë” */
        .header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            height: 50px;
        }

        .back-btn {
            background: white;
            border: 1px solid #ccc;
            font-size: 0.9rem;
            cursor: pointer;
            padding: 6px 12px;
            margin-right: 15px;
            border-radius: 6px;
            display: none;
        }

        .page-title {
            font-size: 1.4rem;
            font-weight: 800;
            color: #222;
        }

        /* ê³µí†µ ê·¸ë¦¬ë“œ */
        .grid-layout {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            padding-bottom: 40px;
        }

        /* ë©”ì¸ ë„¤ë¹„ê²Œì´ì…˜ ì¹´ë“œ */
        .nav-card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .nav-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            border-color: #bbb;
        }

        .nav-content { flex-grow: 1; }
        .nav-icon { font-size: 1.8rem; margin-right: 15px; }
        .nav-title { font-size: 1.1rem; font-weight: 700; margin-bottom: 4px; }
        .nav-desc { font-size: 0.9rem; color: var(--text-sub); }
        .arrow-icon { color: #ccc; font-weight: bold; }

        /* --- ì•„ì½”ë””ì–¸ ìŠ¤íƒ€ì¼ (ì…ì‹œ ê°€ì´ë“œ) --- */
        .guide-section-title {
            margin-top: 30px;
            margin-bottom: 10px;
            font-size: 1rem;
            font-weight: 700;
            color: #d35400;
            border-bottom: 2px solid #edcdc2;
            padding-bottom: 5px;
            display: inline-block;
        }

        .accordion-item {
            background: white;
            border: 1px solid var(--border);
            border-radius: 8px;
            margin-bottom: 10px;
            overflow: hidden;
        }

        .accordion-header {
            padding: 16px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #fff;
            font-weight: 700;
            font-size: 1rem;
        }

        .accordion-header:hover { background: #f9f9f9; }

        .accordion-content {
            display: none; /* ê¸°ë³¸ ìˆ¨ê¹€ */
            padding: 0 16px 16px 16px;
            border-top: 1px solid #f0f0f0;
            background: #fafafa;
            font-size: 0.95rem;
            color: #444;
            line-height: 1.6;
        }

        .accordion-content ul {
            margin: 10px 0 0 0;
            padding-left: 20px;
        }

        .accordion-content li { margin-bottom: 6px; }

        /* --- í•™êµ ìƒì„¸ ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ --- */
        .section-header {
            font-size: 0.85rem;
            color: #888;
            margin: 25px 0 10px 0;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .school-card {
            background: white;
            border: 1px solid var(--border);
            border-left: 4px solid #333;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 12px;
        }

        .east .school-card { border-left-color: #e74c3c; }
        .west .school-card { border-left-color: #3498db; }
        .mid .school-card { border-left-color: #2ecc71; }

        .school-name {
            font-size: 1.05rem;
            font-weight: 800;
            margin-bottom: 6px;
            color: #222;
        }

        .school-desc { font-size: 0.95rem; color: #555; margin-bottom: 8px; }
        
        .tag-badge {
            display: inline-block;
            font-size: 0.8rem;
            padding: 3px 8px;
            background: var(--tag-bg);
            color: var(--tag-text);
            border-radius: 4px;
            font-weight: 600;
        }

        /* ìœ í‹¸ */
        .show { display: block !important; }
        .rotate { transform: rotate(180deg); }
        .toggle-icon { transition: transform 0.2s; }
        .fade-in { animation: fadeIn 0.3s ease-out; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }

    </style>
</head>
<body>

    <div class="app-container">
        <div class="header">
            <button id="backBtn" class="back-btn">â† ë’¤ë¡œ</button>
            <div id="pageTitle" class="page-title">ë¯¸êµ­ ìœ í•™ ì „ëµ ì§€ë„</div>
        </div>

        <div id="contentArea"></div>
    </div>

    <script>
        // ==========================================
        // ğŸ“Œ ë°ì´í„°ë² ì´ìŠ¤ (DB)
        // ==========================================
        const db = {
            "main": [
                { id: "east", icon: "ğŸ›ï¸", title: "ë™ë¶€ (East)", desc: "ì „í†µ, ì•„ì´ë¹„ë¦¬ê·¸, ëª…ë¬¸ ë°€ì§‘" },
                { id: "west", icon: "ğŸŒ´", title: "ì„œë¶€ (West)", desc: "í˜ì‹ , í…Œí¬, ë‚ ì”¨ì™€ ì‚¶ì˜ ì§ˆ" },
                { id: "mid", icon: "ğŸŒ½", title: "ì¤‘ë¶€ (Midwest)", desc: "ê°€ì„±ë¹„, ê³µí•™, ì‹¤ì†ìˆëŠ” ìœ í•™" }
            ],
            // ğŸ”¥ [ì•„ì½”ë””ì–¸ìš©] ì…ì‹œ ê°€ì´ë“œ ë°ì´í„°
            "guides": [
                { 
                    id: "g1", 
                    icon: "â°", 
                    title: "ì…ì‹œ íƒ€ì„ë¼ì¸ (Timeline)", 
                    type: "timeline",
                    items: [
                        "<strong>Summer (6~8ì›”):</strong> ì—ì„¸ì´ ì†Œì¬ ë°œêµ´ & ì¸í„°ë·° ìŠ¤í† ë¦¬í…”ë§ êµ¬ìƒ",
                        "<strong>9ì›” ~ 1ì›”:</strong> í•™êµë³„ ì¸í„°ë·° íˆ¬ì–´ & ì›ì„œ ì ‘ìˆ˜ ì‹œì‘",
                        "<strong>10ì›” ~ 12ì›”:</strong> SSAT / ê³µì¸ì–´í•™ì„±ì (TOEFL/Duolingo) í™•ë³´ ì™„ë£Œ",
                        "<strong>1ì›” 15ì¼:</strong> ğŸ“Œ ì›ì„œ ë§ˆê° (Deadline) *ì¼ë¶€ í•™êµ 2ì›”"
                    ]
                },
                { 
                    id: "g2", 
                    icon: "ğŸ“", 
                    title: "í•„ìˆ˜ ì‹œí—˜ & ì„œë¥˜ (Checklist)", 
                    type: "list",
                    items: [
                        "ì§€ì›ì„œ (Application Form)",
                        "ì›ì„œ ì—ì„¸ì´ (í•™ìƒ / í•™ë¶€ëª¨ ê°ê° ì‘ì„±)",
                        "<strong>ê³µì¸ì‹œí—˜:</strong> SSAT (ìƒìœ„ê¶Œ í•„ìˆ˜)",
                        "<strong>ì–´í•™ì‹œí—˜:</strong> TOEFL ë˜ëŠ” Duolingo (ìµœê·¼ ë“€ì˜¤ë§ê³  ì„ í˜¸â†‘)",
                        "í•™êµ ì„±ì í‘œ (ìµœê·¼ 2~3ë…„)",
                        "ì¶”ì²œì„œ (ì˜ì–´, ìˆ˜í•™, êµì¥/ì¹´ìš´ì…€ëŸ¬ ë“± í‰ê·  3~5ê°œ)",
                        "ë¹„êµê³¼ í™œë™ ì¦ë¹™ (í¬íŠ¸í´ë¦¬ì˜¤, ì˜ìƒ ë“±)"
                    ]
                },
                { 
                    id: "g3", 
                    icon: "ğŸ’¡", 
                    title: "í•©ê²© í•µì‹¬ ì „ëµ (Strategy)", 
                    type: "list",
                    items: [
                        "<strong>ì¸í„°ë·°:</strong> 'ë˜‘ë˜‘í•¨'ë³´ë‹¤ 'ì¸ì„±'ê³¼ 'ê¸°ì—¬ë„'ë¥¼ ë´…ë‹ˆë‹¤.",
                        "<strong>ì—ì„¸ì´:</strong> ìŠ¤í™ ë‚˜ì—´ ê¸ˆì§€. ë‚˜ë§Œì˜ ê°€ì¹˜ê´€ì„ ë‹´ì€ ìŠ¤í† ë¦¬í…”ë§ í•„ìˆ˜.",
                        "<strong>ë¹„êµê³¼(EC):</strong> 'ì´ê¸°ì ì¸ ì²œì¬'ëŠ” ë¶ˆí•©ê²©. ê³µë™ì²´(Community)ì— ê¸°ì—¬í•œ ê²½í—˜ì„ ê°•ì¡°í•˜ì„¸ìš”."
                    ]
                }
            ],
            
            // --- ì§€ì—­ë³„ ë°ì´í„° ---
            "east": {
                title: "ë™ë¶€ ì§€ì—­ ì„ íƒ",
                regionClass: "east",
                locations: [
                    { id: "boston", icon: "ğŸ“", title: "ë§¤ì‚¬ì¶”ì„¸ì¸  (MA)", desc: "êµìœ¡ì˜ ì‹¬ì¥. í•˜ë²„ë“œ/MIT" },
                    { id: "nh", icon: "ğŸŒ²", title: "ë‰´í–„í”„ì…” (NH)", desc: "ìˆ²ì†ì˜ ì€ë‘” ê³ ìˆ˜" },
                    { id: "ct", icon: "ğŸ’", title: "ì½”ë„¤í‹°ì»· (CT)", desc: "ë¶€ì´Œê³¼ ëª…ë¬¸ ë³´ë”©" },
                    { id: "nynj", icon: "ğŸ—½", title: "ë‰´ìš• / ë‰´ì €ì§€", desc: "ë„ì‹¬ê³¼ ê¸ˆìœµ ì¸í”„ë¼" }
                ]
            },
            "west": {
                title: "ì„œë¶€ ì§€ì—­ ì„ íƒ",
                regionClass: "west",
                locations: [
                    { id: "norcal", icon: "ğŸ’»", title: "ë¶ë¶€ (ì‹¤ë¦¬ì½˜ë°¸ë¦¬)", desc: "ìŠ¤íƒ í¼ë“œ, ì°½ì—…, í˜ì‹ " },
                    { id: "socal", icon: "ğŸ¬", title: "ë‚¨ë¶€ (LA/ì‚°íƒ€ë°”ë°”ë¼)", desc: "í—ë¦¬ìš°ë“œ, ì¸ë§¥, ë”°ëœ»í•¨" }
                ]
            },
            "mid": {
                title: "ì¤‘ë¶€ ì§€ì—­ ì„ íƒ",
                regionClass: "mid",
                locations: [
                    { id: "il", icon: "ğŸŒ¬ï¸", title: "ì¼ë¦¬ë…¸ì´ (Chicago)", desc: "í•™ë¬¸ê³¼ ê°€ì„±ë¹„ ê³µì¡´" },
                    { id: "mi", icon: "ã€½ï¸", title: "ë¯¸ì‹œê°„ (Ann Arbor)", desc: "ê³µë¦½ ìµœê°•, ìë™ì°¨/ìŠ¤í¬ì¸ " }
                ]
            },

            // --- í•™êµ ìƒì„¸ ë°ì´í„° ---
            "boston": {
                title: "ë§¤ì‚¬ì¶”ì„¸ì¸  (MA)",
                uni: [
                    { name: "í•˜ë²„ë“œ / MIT", desc: "ì„¸ê³„ 1ìœ„. ë³´ìŠ¤í„´ì˜ ì¤‘ì‹¬.", tag: "Need-blind" },
                    { name: "BU (ë³´ìŠ¤í„´ëŒ€)", desc: "ë„ì‹¬í˜• ëŒ€í•™. ë°”ì´ì˜¤ ê°•ì„¸.", tag: "ì„±ì¥í˜• ë¦¬ë”" }
                ],
                boarding: [
                    { name: "í•„ë¦½ìŠ¤ ì•¤ë„ë²„", desc: "íƒ‘ ë³´ë”©ìŠ¤ì¿¨, ì••ë„ì  ì»¤ë¦¬í˜ëŸ¼.", tag: "ìŠ¤ì¼€ì¼ í° ë¦¬ë”" },
                    { name: "ë””ì–´í•„ë“œ", desc: "ì •ì¥ ì‹ì‚¬ì™€ ê·œìœ¨. ì „í†µì  ê°€ì¹˜.", tag: "ì „í†µì˜ ì‹ ì‚¬" },
                    { name: "ë…¸ë¸” ì•¤ ê·¸ë¦¬ë„ˆí”„", desc: "ë³´ìŠ¤í„´ ì¸ê·¼ ì£¼ì¤‘ ë³´ë”©,ê±°ì£¼ì§€ í•„ìˆ˜", tag: "í•™êµ¬ì—´ ìµœìƒ" },
                  { name: "ê·¸ë¡œíŠ¼", desc: "ë£¨ì¦ˆë²¨íŠ¸ ë°°ì¶œ. ì†Œê·œëª¨ í•™ìƒ.", tag: "ì†Œìˆ˜ ì •ì˜ˆ ê·€ì¡±" }
                  
                ]
            },
            "nh": {
                title: "ë‰´í–„í”„ì…” (NH)",
                uni: [ { name: "ë‹¤íŠ¸ë¨¸ìŠ¤", desc: "ì•„ì´ë¹„ë¦¬ê·¸ ì¤‘ ê°€ì¥ ì‹œê³¨. ëˆëˆí•œ ìœ ëŒ€.", tag: "í•™ë¶€ ì¤‘ì‹¬" } ],
                boarding: [
                    { name: "í•„ë¦½ìŠ¤ ì—‘ì‹œí„°", desc: "ì›íƒ í† ë¡ ì¤‘ì‹¬, ì¢…í•©2ìœ„,ìê¸°ê´€ë¦¬ ëŠ¥ë ¥,ì±…ì„ê°.", tag: "ì§€ì  ì „íˆ¬ë ¥" },
                    { name: "ì„¸ì¸íŠ¸ í´", desc: "100% ì „êµìƒ ê¸°ìˆ™ì‚¬. ë°€ì°© ì¼€ì–´.", tag: "ì™„ë²½í•œ ì´ë„ˆ ì„œí´" }
                ]
            },
            "ct": {
                title: "ì½”ë„¤í‹°ì»· (CT)",
                uni: [ { name: "ì˜ˆì¼ (Yale)", desc: "ì¸ë¬¸/ë²•í•™/ì˜ˆìˆ ì˜ ì„±ì§€.", tag: "ë ˆì§€ë´ì…œ ì¹¼ë¦¬ì§€" } ],
                boarding: [
                    { name: "ì´ˆíŠ¸ ë¡œì¦ˆë©”ë¦¬ í™€ (Choate Rosemary Hall)", desc: "ì¼€ë„¤ë”” ë°°ì¶œ, ì´ì¬ìš© ë”¸, ê³µë¶€+ì˜ˆìˆ  ìœµí•©.ììœ¨ì„± ì¡´ì¤‘", tag: "ì—”í„°í…Œì´ë„ˆ" },
                    { name: "í•˜ì¹˜í‚¤ìŠ¤", desc: "ì˜ˆì¼ëŒ€ ì§„í•™ íŒŒì´í”„ë¼ì¸, í•™ì—…,ì˜ˆìˆ ,ìŠ¤í¬ì¸  ê³µë™ì²´", tag: "í•™ì—… ê°•ë„ ë†’ìŒ" }
                ]
            },
            "nynj": {
                title: "ë‰´ìš• / ë‰´ì €ì§€",
                uni: [
                    { name: "NYU", desc: "ë§¨í•´íŠ¼ ì‹¤ì „íŒŒ. ì›”ìŠ¤íŠ¸ë¦¬íŠ¸ ì¸í„´ì‹­.", tag: "ë„ì‹œí˜• ì¸ì¬" },
                    { name: "í”„ë¦°ìŠ¤í„´", desc: "í•™ë¶€ êµìœ¡ ì „ë¯¸ 1ìœ„.", tag: "í•™êµ¬íŒŒ ì„ ë¹„" },
                    { name: "ì»¬ëŸ¼ë¹„ì•„", desc: "ì½”ì–´ ì»¤ë¦¬í˜ëŸ¼(ê³ ì „ ë…ì„œ).", tag: "ì§€ì  í›ˆë ¨" }
                ],
                boarding: [
                    { name: "ë¡œë ŒìŠ¤ë¹Œ (NJ)", desc: "í”„ë¦°ìŠ¤í„´ 10ë¶„ê±°ë¦¬. í•˜í¬ë‹ˆìŠ¤ ì‹œìŠ¤í…œ.", tag: "íŒ€ì›Œí¬" }
                ]
            },
            "norcal": {
                title: "ë¶ë¶€ ìº˜ë¦¬í¬ë‹ˆì•„ (SF)",
                uni: [
                    { name: "ìŠ¤íƒ í¼ë“œ", desc: "ì°½ì—… ìƒíƒœê³„ ì‹¬ì¥.", tag: "ì„¸ê³„ 1ìœ„ ì°½ì—…ë¥ " },
                    { name: "UC ë²„í´ë¦¬", desc: "ê³µë¦½ 1ìœ„. *CS ì…í•™ì‹œ í™•ì • í•„ìˆ˜*.", tag: "ì§„ë³´/í˜ì‹ " }
                ],
                boarding: [
                    { name: "ìŠ¤í‹°ë¸ìŠ¨", desc: "í˜ë¸”ë¹„ì¹˜ ê³¨í”„ì¥ ë‚´ ìœ„ì¹˜.", tag: "ëŸ­ì…”ë¦¬/ê³¨í”„" }
                ]
            },
            "socal": {
                title: "ë‚¨ë¶€ ìº˜ë¦¬í¬ë‹ˆì•„ (LA)",
                uni: [
                    { name: "USC", desc: "íŠ¸ë¡œì” ë™ë¬¸íšŒ. ì·¨ì—… ìµœê°•.", tag: "ì¸ë§¥ ê¹¡íŒ¨" },
                    { name: "UCLA", desc: "ì§€ì›ì ìˆ˜ 1ìœ„. í…Œí¬+ì—”í„°.", tag: "ìµœê³ ì˜ ì¸ê¸°" }
                ],
                boarding: [
                    { name: "ì‹¸ì²˜ (Thacher)", desc: "1ë…„ê°„ ë§ ê´€ë¦¬ ì˜ë¬´. ì¸ì„± í•¨ì–‘.", tag: "ê²¸ì†í•œ ë¦¬ë”" },
                    { name: "ì¼€ì´íŠ¸ (Cate)", desc: "íƒœí‰ì–‘ ë·°. í˜¸í…”ê¸‰ ì‹œì„¤.", tag: "ì˜¤ì…˜ë·°/ì„¸ë ¨ë¨" }
                ]
            },
            "il": {
                title: "ì¼ë¦¬ë…¸ì´ (Chicago)",
                uni: [
                    { name: "ì‹œì¹´ê³ ëŒ€", desc: "ë…¸ë²¨ìƒ ì‚°ì‹¤. ì‚¬ê³ ë ¥ êµìœ¡.", tag: "ì§€ì  í˜¸ê¸°ì‹¬" },
                    { name: "ë…¸ìŠ¤ì›¨ìŠ¤í„´", desc: "ì €ë„ë¦¬ì¦˜/ê²½ì˜. ì·¨ì—… ì˜ë˜ëŠ” ë¶€ì´Œ ì‚¬ë¦½.", tag: "ì‹¤ìš©ì£¼ì˜" },
                    { name: "UIUC", desc: "CS Tier 1. ì‹¤ë¦¬ì½˜ë°¸ë¦¬ íƒ€ê²Ÿ.", tag: "ê°€ì„±ë¹„ ì œì™•" }
                ],
                boarding: [
                    { name: "ë ˆì´í¬ í¬ë ˆìŠ¤íŠ¸", desc: "ì‹œì¹´ê³  ë¶€ì´Œ. 'ë¯¸ë‹ˆ UN' ë‹¤ì–‘ì„±.", tag: "ê¸€ë¡œë²Œ ë¯¸ë“œì›¨ìŠ¤íŠ¸" }
                ]
            },
            "mi": {
                title: "ë¯¸ì‹œê°„",
                uni: [ { name: "ë¯¸ì‹œê°„ ì•¤ ì•„ë²„", desc: "ê²½ì˜/ê³µëŒ€/ì˜ëŒ€ ì˜¬ë¼ìš´ë“œ Top 10.", tag: "ì—„ì¹œì•„" } ],
                boarding: []
            }
        };

        // ==========================================
        // ğŸ“Œ ë Œë”ë§ ë¡œì§
        // ==========================================
        let historyStack = [];
        const contentArea = document.getElementById('contentArea');
        const backBtn = document.getElementById('backBtn');
        const pageTitle = document.getElementById('pageTitle');

        // ì´ˆê¸° ì‹¤í–‰
        renderMain();

        // ë’¤ë¡œê°€ê¸°
        backBtn.addEventListener('click', () => {
            if (historyStack.length > 0) {
                historyStack.pop();
                const prev = historyStack[historyStack.length - 1];
                if (!prev) renderMain(false);
                else if (prev.type === 'sub') renderSub(prev.id, false);
            }
        });

        // 1. ë©”ì¸ í™”ë©´
        function renderMain(pushToStack = true) {
            if (pushToStack) historyStack = [];
            backBtn.style.display = 'none';
            pageTitle.innerText = "ë¯¸êµ­ ìœ í•™ ì „ëµ ì§€ë„";
            contentArea.innerHTML = "";
            contentArea.className = ""; // í´ë˜ìŠ¤ ì´ˆê¸°í™”

            // (1) ì§€ë„ ë„¤ë¹„ê²Œì´ì…˜
            const gridDiv = document.createElement('div');
            gridDiv.className = 'grid-layout fade-in';
            
            db.main.forEach(item => {
                const card = document.createElement('div');
                card.className = 'nav-card';
                card.onclick = () => renderSub(item.id);
                card.innerHTML = `
                    <div style="display:flex; align-items:center;">
                        <span class="nav-icon">${item.icon}</span>
                        <div>
                            <div class="nav-title">${item.title}</div>
                            <div class="nav-desc">${item.desc}</div>
                        </div>
                    </div>
                    <span class="arrow-icon">â€º</span>
                `;
                gridDiv.appendChild(card);
            });
            contentArea.appendChild(gridDiv);

            // (2) ì•„ì½”ë””ì–¸ ì…ì‹œ ê°€ì´ë“œ
            const guideTitle = document.createElement('div');
            guideTitle.className = 'guide-section-title fade-in';
            guideTitle.innerText = "ğŸ“Œ 2027 ì…ì‹œ í•„ìˆ˜ ê°€ì´ë“œ";
            contentArea.appendChild(guideTitle);

            const accordionContainer = document.createElement('div');
            accordionContainer.className = 'fade-in';

            db.guides.forEach(g => {
                const item = document.createElement('div');
                item.className = 'accordion-item';
                
                // Header
                const header = document.createElement('div');
                header.className = 'accordion-header';
                header.innerHTML = `
                    <span>${g.icon} ${g.title}</span>
                    <span class="toggle-icon">â–¼</span>
                `;
                
                // Content
                const content = document.createElement('div');
                content.className = 'accordion-content';
                let listHtml = '<ul>';
                g.items.forEach(li => {
                    listHtml += `<li>${li}</li>`;
                });
                listHtml += '</ul>';
                content.innerHTML = listHtml;

                // Click Event
                header.onclick = () => {
                    const isVisible = content.classList.contains('show');
                    // ë‹¤ë¥¸ê±° ë‹¤ ë‹«ê¸° (ì„ íƒì‚¬í•­)
                    document.querySelectorAll('.accordion-content').forEach(c => c.classList.remove('show'));
                    document.querySelectorAll('.toggle-icon').forEach(i => i.classList.remove('rotate'));

                    if (!isVisible) {
                        content.classList.add('show');
                        header.querySelector('.toggle-icon').classList.add('rotate');
                    }
                };

                item.appendChild(header);
                item.appendChild(content);
                accordionContainer.appendChild(item);
            });
            contentArea.appendChild(accordionContainer);
        }

        // 2. ì„œë¸Œ(ì§€ì—­) í™”ë©´
        function renderSub(regionId, pushToStack = true) {
            if (pushToStack) historyStack.push({type: 'sub', id: regionId});
            
            backBtn.style.display = 'block';
            const data = db[regionId];
            pageTitle.innerText = data.title;
            contentArea.innerHTML = "";
            
            const gridDiv = document.createElement('div');
            gridDiv.className = 'grid-layout fade-in';

            data.locations.forEach(loc => {
                const card = document.createElement('div');
                card.className = 'nav-card';
                card.onclick = () => renderDetail(loc.id, data.regionClass);
                card.innerHTML = `
                    <div style="display:flex; align-items:center;">
                        <span class="nav-icon">${loc.icon}</span>
                        <div>
                            <div class="nav-title">${loc.title}</div>
                            <div class="nav-desc">${loc.desc}</div>
                        </div>
                    </div>
                    <span class="arrow-icon">â€º</span>
                `;
                gridDiv.appendChild(card);
            });
            contentArea.appendChild(gridDiv);
        }

        // 3. ë””í…Œì¼(í•™êµ) í™”ë©´
        function renderDetail(locId, regionClass) {
            historyStack.push({type: 'detail', id: locId});
            const data = db[locId];
            pageTitle.innerText = data.title;
            contentArea.innerHTML = "";
            
            const container = document.createElement('div');
            container.className = `fade-in ${regionClass}`;

            // ëŒ€í•™ ë Œë”ë§ í•¨ìˆ˜
            const renderSection = (title, list) => {
                if (!list || list.length === 0) return;
                const h = document.createElement('div');
                h.className = 'section-header';
                h.innerText = title;
                container.appendChild(h);

                list.forEach(school => {
                    const card = document.createElement('div');
                    card.className = 'school-card';
                    card.innerHTML = `
                        <div class="school-name">${school.name}</div>
                        <div class="school-desc">${school.desc}</div>
                        <div class="tag-badge">${school.tag}</div>
                    `;
                    container.appendChild(card);
                });
            };

            renderSection("ğŸ“ ëŒ€í•™ (University)", data.uni);
            renderSection("ğŸ« ë³´ë”©ìŠ¤ì¿¨ (Boarding School)", data.boarding);
            
            contentArea.appendChild(container);
        }
    </script>
</body>
</html>
